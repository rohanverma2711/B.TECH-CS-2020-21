-- Query 1
ALTER TABLE COLLEGE
ADD CONSTRAINT PRIMARY KEY (cName);

-- Query 2
ALTER TABLE STUDENT
ADD CONSTRAINT PRIMARY KEY (sID);

-- Query 3
ALTER TABLE APPLY
ADD CONSTRAINT PRIMARY KEY (sID, cName, major);

-- QUERY 4
ALTER TABLE APPLY
ADD CONSTRAINT
	sID_FK FOREIGN KEY (sID) REFERENCES STUDENT(sID),
ADD CONSTRAINT
	cName_FK FOREIGN KEY (cName) REFERENCES COLLEGE(cName);

-- Query 5
ALTER TABLE APPLY
MODIFY COLUMN major VARCHAR(25);

-- Query 6
ALTER TABLE APPLY
ADD COLUMN decision VARCHAR(3) NOT NULL;

-- Query 7
ALTER TABLE APPLY
MODIFY COLUMN decision CHAR(1) NOT NULL;

-- Query 8
ALTER TABLE APPLY
DROP FOREIGN KEY cName_FK;

-- Query 9
ALTER TABLE STUDENT
DROP COLUMN sizeHS;

-- Query 10
ALTER TABLE COLLEGE
DROP PRIMARY KEY;

-- Query 11
CREATE UNIQUE INDEX uq_key ON APPLY (cName, major);

-- Query 12
/* NOTE:This NEEDS TO BE EXECUTED FIRST DUE TO CHANGES
MADE TO COLLEGE TABLE SCHEMA DUE TO PREVIOUS QUERIES.*/

ALTER TABLE COLLEGE
ADD CONSTRAINT PRIMARY KEY (cName);

ALTER TABLE APPLY
ADD CONSTRAINT cName_FK
FOREIGN KEY (cName) REFERENCES COLLEGE (cName)
ON DELETE CASCADE;

-- Query 13
/* NOTE:This NEEDS TO BE EXECUTED FIRST DUE TO CHANGES
MADE TO APPLY TABLE SCHEMA DUE TO PREVIOUS QUERIES.*/

ALTER TABLE APPLY
DROP FOREIGN KEY sID_FK,
DROP PRIMARY KEY,
ADD PRIMARY KEY (cName,major),
MODIFY COLUMN sID INTEGER;

ALTER TABLE APPLY 
ADD CONSTRAINT sID_FK FOREIGN KEY (sID) REFERENCES STUDENT(sID)
ON DELETE SET NULL;

-- Query 14
ALTER TABLE COLLEGE
RENAME COLUMN enrollment TO enroll;